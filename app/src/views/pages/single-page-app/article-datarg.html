<header class="docs-header">
  <h1 class="docs-heading">DataRg</h1>
  <section class="docs-intro">
    <i>class DataRg extends DataRgListeners</i>
    <br><br>
    <p>Parse HTML elements with the "data-rg-" attribute (non-listeners)</p>
  </section>
</header>

<section class="docs-section" id="item-5-1">
  <h2 class="section-heading">Properties</h2>
  <table style="width:100%">
  <tr>
    <th>Property</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
  <tr>
    <td>separator</td>
    <td>The separator character in the data-rg-... attributes</td>
    <td>string</td>
    <td>@@</td>
  </tr>
  <tr>
    <td>temp</td>
    <td>controller temporary variable (exists untill controller exists)</td>
    <td>any</td>
    <td>{}</td>
  </tr>
  <tr>
    <td>rgelems</td>
    <td>Collected elems with data-rg-elem attribute</td>
    <td>{HTMLElement}</td>
    <td>{}</td>
  </tr>
  </table>
</section>

<section class="docs-section" id="item-5-2">
  <h2 class="section-heading">Methods</h2>
  <p>Use this methods in the controller when needed. The methods are written in the order how they are executed in the Controller.
    When generators are used in the controller always use <b>await</b> because the rest of the code (for example rgPrint) should wait that new elements are generated.
    For non-generators <b>await</b> is not needed.</p>
	<ul class="methods">
    <h4>GENERATORS</h4>
    Generators will produce new HTML elements or remove existing. It will change the DOM tree.
    <li>
      <i>async</i> <b>rgFor <i>(controllerProp :string) :Promise&lt;void&gt;</i></b>
      <p class="desc">Parse the <b>data-rg-for="&lt;controllerProp&gt;[:&lt;limit&gt;:&lt;skip&gt;] [@@ outer|inner]"</b> elements. Multiply the element. Use limit and skip for the pagination.
      <br>If the iteration parameter <b style="color:brown">$i</b> is used then expressions like .$i or $i+1, $i-1, $i^2, ... will be parsed in the HTML file.
      <br>For example: <small>&lt;p data-rg-for="companies"&gt;&lt;span data-rg-print="companies.$i.name @@ append"&gt;$i+1 name:&lt;/span&gt;&lt;/p&gt;</small>
      <br><b>controllerProp</b> - controller property name (when used the number of data-rg elements is reduced to elements with the attribute <small>[${attrName}^="${controllerProp}"]</small>)
      <br>Examples:
      <br>data-rg-for="companies @@ outer"
      <br>data-rg-for="company.employees" - hide the element
      <br><i>NOTICE: The controllerProp should be an array.</i></p>
    </li>
    <li>
      <i>async</i> <b>rgRepeat <i>(num :number, id :string) :Promise&lt;void&gt;</i></b>
      <p class="desc">Parse the <b>data-rg-repeat="&lt;num&gt;"</b> elements. Repeat the element <i>num</i> times.
      <br>If the iteration parameter <b style="color:brown">$i</b> is used then expressions like .$i or $i+1, $i-1, $i^2, ... will be parsed in the HTML file.
      <br><b>num</b> - number of the repeats
      <br><b>id</b> - element's id, for example &lt;p id="myID" data-rg-repeat="5"&gt;</p>
    </li>
    <li>
      <i>async</i> <b>rgIf <i>(controllerProp :string) :Promise&lt;void&gt;</i></b>
      <p class="desc">Parse the <b>data-rg-if="&lt;controllerProp&gt; [@@ hide|remove]"</b> elements. Show, hide or remove the HTML element.
      <br>When @@hide option is used the style="visibility:hidden;" or style="visibility:visible;" is added to the data-rg-if element.
      <br>When @@remove option is used the data-rg-if element is completely commented. For example: <code class="language-markup">&lt;!--&lt;span data-rg-if="ifAge @@ remove"&gt;Lorem ipsum&lt;/span&gt;--&gt;</code>
      <br><b>controllerProp</b> - controller property name
      <br>Examples:
      <br>* data-rg-if="ifAge" - hide the element
      <br>* data-rg-if="ifAge @@ hide" - hide the element
      <br>* data-rg-if="ifAge @@ remove" - remove the element</p>
    </li>
    <li>
      <i>async</i> <b>rgSwitch <i>(controllerProp :string) :Promise&lt;void&gt;</i></b>
      <p class="desc">Parse the <b>data-rg-switch="&lt;controllerProp&gt; [@@ multiple]"</b> elements. Show or remove elements depending if "data-rg-switchcase" value matches controller property.
      <br>Notice1: The data-rg-if can hide elements while data-rg-switch will only remove them.
      <br>Notice2: With @@multiple many switchcases can be shown.
      <br><b>controllerProp</b> - controller property name
      <br>Example:
      <br>data-rg-switch="age"
      <br>data-rg-switchcase="18"
      <br>data-rg-switchcase="21"
    </li>
  </ul>

  <ul class="methods">
    <h4>NON-GENERATORS</h4>
    Non-generators will affect elements with the specified data-rg- attribute.
    <li>
      <b>rgElem <i>() :void</i></b>
      <p class="desc">Parse the <b>data-rg-elem="&lt;rgelemsProp&gt;"</b> elements. Transfer the DOM element to the controller property "this.rgelems".
      <br><b>num</b> - number of the repeats
      <br><b>id</b> - element's id, for example &lt;p id="myID" data-rg-repeat="5"&gt;</p>
    </li>
    <li>
      <b>rgPrint <i>(controllerProp :string) :void</i></b>
      <p class="desc">Parse the <b>data-rg-print="&lt;controllerProperty&gt; [@@ inner|outer|sibling|prepend|append|inset]"</b> elements. Print the controller's property in the view.
      <br>TIP1: When <i>inset</i> is used the value will be printed on the place in the HTML file marhed with the <b>${}</b>
      <br>TIP2: If the value is the JS object or array it is automatically recognised and convertd to the JSON string.
      <br><b>controllerProp</b> - controller property name. The part of the attribute value which relates to the controller property, for example
      <i>product.name</i> in the data-rg-print="product.name @@ inner". This speed up rendering because it's limited only to one element.</p>
    </li>
    <li>
      <b>rgClass <i>(controllerProp :string) :void</i></b>
      <p class="desc">Parse the <b>data-rg-class="&lt;controllerProperty&gt; [@@ add|replace]"</b> elements. Set the element class attribute.
      <br>When <i>@@add</i> is used the new classes will be appended to the existing classes. If the <i>@@replace</i> is used then all classes will be replaced.
      <br><b>controllerProp</b> - controller property which defines "class" attribute</p>
    </li>
    <li>
      <b>rgStyle <i>(controllerProp :string) :void</i></b>
      <p class="desc">Parse the <b>data-rg-style="&lt;controllerProperty&gt; [@@ add|replace]"</b> elements. Set the element style attribute.
      <br>When <i>@@add</i> is used the new styles will be appended to the existing styles. If the <i>@@replace</i> is used then all styles will be replaced.</th>
      <br><b>controllerProp</b> - controller property which defines "style" attribute</p>
    </li>
    <li>
      <b>rgLazyjs <i>() :void</i></b>
      <p class="desc">Parse the <b>data-rg-lazyjs</b> elements. All SCRIPT tags with <i>data-rg-lazyjs</i> attribute will be removed
      and again loaded on every controller execution after the DOM is loaded.</p>
    </li>
  </ul>
</section>


<section class="docs-section" id="item-5-3">
  <h2 class="section-heading">Examples</h2>
  <h4>1. data-rg-switch</h4>
  The example shows how to use "data-rg-switch", "data-rg-switchcase" and "data-rg-switchdefault" to show one switchcase.
  For example if <small>myColor='green'</small> then green will be shown and others will be removed.
  <pre><code class="language-markup">
&lt;ul data-rg-switch="myColor"&gt;
  &lt;li data-rg-switchcase="red"&gt;red&lt;/li&gt;
  &lt;li data-rg-switchcase="green"&gt;green&lt;/li&gt;
  &lt;li data-rg-switchcase="blue"&gt;blue&lt;/li&gt;
  &lt;li data-rg-switchdefault&gt;silver (default)&lt;/li&gt;
&lt;/ul&gt;
  </code></pre>

  <h4>2. data-rg-switch with multiple</h4>
  The example shows how to use "data-rg-switch", "data-rg-switchcase" and "data-rg-switchdefault".
  @@ multiple will show multiple items, for example if <small>myColorArr=['red', green]</small> then red and green will be shown.
  <pre><code class="language-markup">
&lt;div data-rg-switch="myColorArr @@ multiple"&gt;
  &lt;p data-rg-switchcase="red"&gt;red&lt;/p&gt;
  &lt;p data-rg-switchcase="green"&gt;green&lt;/p&gt;
  &lt;p data-rg-switchcase="blue"&gt;blue&lt;/p&gt;
  &lt;p data-rg-switchdefault&gt;silver (default)&lt;/p&gt;
&lt;/div&gt;
  </code></pre>

  <br>
  <h4>3. data-rg-for</h4>
  The example shows how to use "data-rg-for" and iteration parameter $i.
  <pre><code class="language-markup">
&lt;p data-rg-for="companies:limit:skip" style="color:green"&gt;&lt;span data-rg-print="companies.$i.name @@ append"&gt;$i+1 name:&lt;/span&gt; -- &lt;b data-rg-print="companies.$i.size"&gt;&lt;/b&gt;&lt;/p&gt;
&lt;p data-rg-for="companies:limit:skip @@ inner" style="color:orangered"&gt;&lt;span data-rg-print="companies.$i.name @@ append"&gt;$i name:&lt;/span&gt;&lt;br&gt;&lt;/p&gt;
  </code></pre>

  <br>
  <h4>4. data-rg-repeat</h4>
  The example shows how to use "data-rg-repeat" and iteration parameter $i.
  <pre><code class="language-markup">
&lt;p id="colorID" data-rg-repeat="3"&gt;$i+1 &lt;input data-rg-set="colors.$i @@ print"&gt; &lt;span data-rg-print="colors.$i"&gt;&lt;/span&gt;&lt;/p&gt;
  </code></pre>

  <br>
  <h4>5. data-rg-elem</h4>
  The example shows how to use "data-rg-elem" to toggle the lement's color.
  <pre><code class="language-markup">
&lt;button data-rg-click="runELEM()"&gt;run ELEM&lt;/button&gt;
Click button multiple times to toggle the text color. Very simple.
&lt;p data-rg-elem="myElem"&gt;catch this element and store in the controller object (this.rgelems)&lt;/p&gt;
  </code></pre>

  <pre><code class="language-js">
runEVT(elem, evt, boja) {
  // console.log(elem);
  // console.log(evt);
  elem.style.color = boja;
}
  </code></pre>




</section>



